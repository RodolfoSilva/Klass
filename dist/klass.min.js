/*!
 * Klass.js v1.1.0 (http://github.com/RodolfoSilva/Klass)
 * Copyright 2014 Rodolfo Silva <contato@rodolfosilva.com>
 * Licensed under MIT (http://github.com/RodolfoSilva/Klass/LICENSE)
 */
!function(global,factory){"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=factory(global):"function"==typeof define&&define.amd?define([],function(){return factory(global)}):global.Klass=factory(global)}("undefined"!=typeof window?window:this,function(){"use strict";var IS_DONTENUM_BUGGY=function(){for(var p in{toString:1})if("toString"===p)return!1;return!0}(),SubClass=function(){},getPropertis=function(iterable){if(!iterable)return[];if("toArray"in Object(iterable))return iterable.toArray();for(var length=iterable.length||0,results=new Array(length);length--;)results[length]=iterable[length];return results},Klass=function(){return Klass.create.apply(Klass,arguments)};return Klass.VERSION="1.1.0",Klass.create=function(){function Constructor(){this.initialize.apply(this,arguments)}var parent=null,properties=getPropertis(arguments);if(null==properties[0]&&properties[1])throw new Error("superclass is undefined (Klass.create)");if(null==properties[0])throw new Error("definition is undefined (Klass.create)");Object.isFunction(properties[0])&&(parent=properties.shift()),Object.extend(Constructor,{addMethods:Klass.addMethods}),Constructor.superclass=parent,Constructor.subclasses=[],parent&&(SubClass.prototype=parent.prototype,Constructor.prototype=new SubClass,parent.subclasses.push(Constructor));for(var i=0,length=properties.length;length>i;i++)Constructor.addMethods(properties[i]);return Constructor.prototype.initialize||(Constructor.prototype.initialize=function(){}),Constructor.prototype.constructor=Constructor,Constructor},Klass.addMethods=function(source){var ancestor=this.superclass&&this.superclass.prototype,properties=Object.keys(source);IS_DONTENUM_BUGGY&&(source.toString!=Object.prototype.toString&&properties.push("toString"),source.valueOf!=Object.prototype.valueOf&&properties.push("valueOf"));for(var i=0,length=properties.length;length>i;i++){var property=properties[i],value=source[property],argumentsNames=value.argumentNames();if(ancestor&&Object.isFunction(value)&&("$super"==argumentsNames[0]||"$parent"==argumentsNames[0])){var method=value;value=function(m){return function(){return ancestor[m].apply(this,arguments)}}(property).wrap(method),value.valueOf=function(method){return function(){return method.valueOf.call(method)}}(method),value.toString=function(method){return function(){return method.toString.call(method)}}(method)}this.prototype[property]=value}return this},Klass}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(thisObject){var func=this,args=Array.prototype.slice.call(arguments,1),Nop=function(){},bound=function(){var a=args.concat(Array.prototype.slice.call(arguments));return func.apply(this instanceof Nop?this:thisObject||window,a)};return Nop.prototype=func.prototype,bound.prototype=new Nop,bound}),"function"!=typeof Object.extend&&(Object.extend=function(destination,source){for(var property in source)destination[property]=source[property];return destination}),"function"!=typeof Object.isFunction&&(Object.isFunction=function(object){return"[object Function]"===Object.prototype.toString.call(object)}),Object.keys||(Object.keys=function(){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;return function(obj){if("object"!=typeof obj&&("function"!=typeof obj||null===obj))throw new TypeError("Object.keys called on non-object");var prop,i,result=[];for(prop in obj)hasOwnProperty.call(obj,prop)&&result.push(prop);if(hasDontEnumBug)for(i=0;dontEnumsLength>i;i++)hasOwnProperty.call(obj,dontEnums[i])&&result.push(dontEnums[i]);return result}}()),"function"!=typeof Function.prototype.argumentNames&&(Object.prototype.argumentNames=function(){var names=this.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=names.length||names[0]?names:[]}),"function"!=typeof Function.prototype.wrap&&(Object.prototype.wrap=function(wrapper){var __method=this;return function(){var a=function(array,args){for(var arrayLength=array.length,length=args.length;length--;)array[arrayLength+length]=args[length];return array}([__method.bind(this)],arguments);return wrapper.apply(this,a)}});